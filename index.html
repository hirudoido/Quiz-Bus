<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
    <title>2Êäû„ÇØ„Ç§„Ç∫„Ç≤„Éº„É†</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            -webkit-tap-highlight-color: transparent;
        }

        body {
            font-family: 'Arial', sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            padding: 10px;
            overflow-x: hidden;
        }

        .game-container {
            width: 100%;
            max-width: 500px;
            text-align: center;
            background: rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(10px);
            border-radius: 20px;
            padding: 20px;
            box-shadow: 0 15px 35px rgba(0, 0, 0, 0.2);
            position: relative;
            min-height: 70vh;
            display: flex;
            flex-direction: column;
            justify-content: center;
        }

        .score {
            position: absolute;
            top: 15px;
            right: 15px;
            font-size: 18px;
            font-weight: bold;
            background: rgba(255, 255, 255, 0.2);
            padding: 8px 15px;
            border-radius: 10px;
            z-index: 10;
        }

        .question-image {
            width: min(250px, 75vw);
            height: auto;
            border-radius: 15px;
            margin: 0 auto 20px;
            object-fit: cover;
            box-shadow: 0 10px 25px rgba(0, 0, 0, 0.3);
            transition: all 0.3s ease;
        }

        .question-text {
            font-size: clamp(20px, 5vw, 28px);
            font-weight: bold;
            margin-bottom: 20px;
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.3);
            line-height: 1.3;
        }

        .timer {
            font-size: clamp(36px, 8vw, 48px);
            font-weight: bold;
            color: #ff6b6b;
            margin-bottom: 20px;
            text-shadow: 2px 2px 8px rgba(0, 0, 0, 0.5);
            transition: all 0.3s ease;
        }

        .timer.warning {
            color: #ff3838;
            animation: pulse 0.5s ease-in-out infinite alternate;
        }

        @keyframes pulse {
            from { transform: scale(1); }
            to { transform: scale(1.1); }
        }

        .choices {
            display: flex;
            flex-direction: column;
            gap: 15px;
            align-items: center;
            width: 100%;
        }

        .choice-btn {
            width: 100%;
            max-width: 350px;
            padding: 18px 20px;
            font-size: clamp(16px, 4vw, 20px);
            font-weight: bold;
            border: none;
            border-radius: 15px;
            cursor: pointer;
            transition: all 0.3s ease;
            background: linear-gradient(45deg, #4facfe 0%, #00f2fe 100%);
            color: white;
            box-shadow: 0 8px 20px rgba(0, 0, 0, 0.2);
            touch-action: manipulation;
            user-select: none;
            -webkit-user-select: none;
            word-wrap: break-word;
            line-height: 1.3;
        }

        .choice-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 25px rgba(0, 0, 0, 0.3);
        }

        .choice-btn:active {
            transform: translateY(0);
            transition: transform 0.1s;
        }

        .choice-btn.correct {
            background: linear-gradient(45deg, #56ab2f 0%, #a8e6cf 100%);
            animation: correctAnswer 0.6s ease;
        }

        .choice-btn.incorrect {
            background: linear-gradient(45deg, #ff416c 0%, #ff4b2b 100%);
            animation: incorrectAnswer 0.6s ease;
        }

        @keyframes correctAnswer {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.05); }
        }

        @keyframes incorrectAnswer {
            0%, 20%, 40%, 60%, 80%, 100% { transform: translateX(0); }
            10%, 30%, 50%, 70%, 90% { transform: translateX(-5px); }
        }

        .result {
            font-size: clamp(18px, 4vw, 24px);
            font-weight: bold;
            margin-top: 20px;
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.3);
            line-height: 1.4;
        }

        .next-btn {
            margin-top: 25px;
            padding: 15px 30px;
            font-size: clamp(16px, 3.5vw, 18px);
            font-weight: bold;
            border: none;
            border-radius: 10px;
            cursor: pointer;
            background: linear-gradient(45deg, #f093fb 0%, #f5576c 100%);
            color: white;
            transition: all 0.3s ease;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.2);
            touch-action: manipulation;
            user-select: none;
            -webkit-user-select: none;
        }

        .next-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 20px rgba(0, 0, 0, 0.3);
        }

        .next-btn:active {
            transform: translateY(0);
            transition: transform 0.1s;
        }

        .countdown {
            font-size: clamp(24px, 6vw, 36px);
            font-weight: bold;
            color: #ffd700;
            text-shadow: 2px 2px 8px rgba(0, 0, 0, 0.5);
            line-height: 1.3;
        }

        .hidden {
            display: none !important;
        }

        .start-title {
            font-size: clamp(32px, 8vw, 48px);
            font-weight: bold;
            margin-bottom: 25px;
            text-shadow: 2px 2px 8px rgba(0, 0, 0, 0.5);
        }

        .start-rules {
            font-size: clamp(16px, 3.5vw, 20px);
            margin-bottom: 30px;
            line-height: 1.6;
        }

        .start-rules div {
            margin-bottom: 10px;
        }

        .start-btn {
            font-size: clamp(20px, 4vw, 24px);
            padding: 20px 40px;
            background: linear-gradient(45deg, #4facfe 0%, #00f2fe 100%);
            border: none;
            border-radius: 15px;
            color: white;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: 0 8px 20px rgba(0, 0, 0, 0.2);
            touch-action: manipulation;
            user-select: none;
            -webkit-user-select: none;
        }

        .start-btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 12px 25px rgba(0, 0, 0, 0.3);
        }

        .start-btn:active {
            transform: translateY(0);
            transition: transform 0.1s;
        }

        /* „Çø„Éñ„É¨„ÉÉ„ÉàÁî®„ÅÆË™øÊï¥ */
        @media (min-width: 768px) and (max-width: 1024px) {
            .game-container {
                max-width: 600px;
                padding: 30px;
            }
            
            .choices {
                flex-direction: row;
                gap: 20px;
            }
            
            .choice-btn {
                flex: 1;
                min-width: 200px;
            }
        }

        /* „Éá„Çπ„ÇØ„Éà„ÉÉ„ÉóÁî®„ÅÆË™øÊï¥ */
        @media (min-width: 1025px) {
            .game-container {
                max-width: 600px;
                padding: 30px;
            }
            
            .choices {
                flex-direction: row;
                gap: 20px;
            }
            
            .choice-btn {
                flex: 1;
                min-width: 200px;
            }
        }

        /* Ë∂ÖÂ∞èÂûã„Éá„Éê„Ç§„ÇπÁî®„ÅÆË™øÊï¥ */
        @media (max-width: 320px) {
            .game-container {
                padding: 15px;
                margin: 5px;
            }
            
            .score {
                font-size: 16px;
                padding: 6px 12px;
                top: 10px;
                right: 10px;
            }
        }

        /* Ê®™Âêë„Åç„Çπ„Éû„ÉõÁî®„ÅÆË™øÊï¥ */
        @media (max-height: 500px) and (orientation: landscape) {
            body {
                padding: 5px;
            }
            
            .game-container {
                min-height: 90vh;
                padding: 15px;
            }
            
            .question-image {
                width: min(150px, 25vw);
                height: min(150px, 25vw);
                margin-bottom: 15px;
            }
            
            .question-text {
                margin-bottom: 15px;
            }
            
            .timer {
                margin-bottom: 15px;
            }
        }
    </style>
</head>
<body>
    <div class="score">„Çπ„Ç≥„Ç¢: <span id="score">0</span></div>
    
    <div class="game-container">
        <div id="startScreen">
            <div class="start-title">
                üß† 2Êäû„ÇØ„Ç§„Ç∫„Ç≤„Éº„É†
            </div>
            <div class="start-rules">
                <div>‚úÖ Ê≠£Ëß£: 10ÁÇπ + ÊôÇÈñì„Éú„Éº„Éä„Çπ</div>
                <div>‚ùå ‰∏çÊ≠£Ëß£: -5ÁÇπ - ÊôÇÈñì„Éö„Éä„É´„ÉÜ„Ç£</div>
                <div>‚è∞ ÊôÇÈñìÂàá„Çå: -10ÁÇπ</div>
            </div>
            <button class="start-btn" onclick="startGame()">
                üöÄ „Ç≤„Éº„É†„Çπ„Çø„Éº„Éà
            </button>
        </div>
        
        <div id="gameScreen" class="hidden">
            <img id="questionImage" class="question-image" src="" alt="ÂïèÈ°åÁîªÂÉè">
            <div id="questionText" class="question-text"></div>
            
            <div id="countdown" class="countdown"></div>
            <div id="result" class="result"></div>
            
            <div id="answerPhase" class="hidden">
                <div id="timer" class="timer"></div>
                <div class="choices">
                    <button class="choice-btn" id="choice1" onclick="selectAnswer(0)"></button>
                    <button class="choice-btn" id="choice2" onclick="selectAnswer(1)"></button>
                </div>
                
                <button id="nextBtn" class="next-btn hidden" onclick="nextQuestion()">Ê¨°„ÅÆÂïèÈ°å</button>
            </div>
        </div>
    </div>

    <script>
        const questions = [
            {
                image: "IMGP1400.webp",
                question: "„Åì„Çå„ÅØ„Å©„ÅÆ‰ºöÁ§æ„ÅÆ„Éê„ÇπÔºü",
                choices: ["Â∞èÁî∞ÊÄ•„Éê„Çπ", "‰∫¨ÁéãÈõªÈâÑ„Éê„Çπ"],
                correct: 0
            },
            {
                image: "1982.jpg",
                question: "ÈÉΩÂñ∂„Éê„Çπ„ÅØ‰ΩïÂπ¥„Åã„ÇâÂßã„Åæ„Å£„ÅüÔºü",
                choices: ["1963Âπ¥", "1924Âπ¥"],
                correct: 1
            },
            {
                image: "o0873058215433130096.jpg",
                question: "„Åì„ÅÆ„Éê„Çπ„ÅÆÂêçÁß∞„ÅØÔºü",
                choices: ["ÈÄ£ÁØÄ„Éê„Çπ", "È´òÈÄü„Éê„Çπ"],
                correct: 0
            },
            {
                image: "busday-img01.jpg",
                question: "„Éê„Çπ„ÅÆÊó•„ÅØ„ÅÑ„Å§",
                choices: ["10Êúà14Êó•", "9Êúà20Êó•"],
                correct: 1
            },
            {
                image: "ph_micro.png",
                question: "„Åì„ÅÆËªäÁ®Æ„ÅØÔºü",
                choices: ["Â§ßÂûã„Éê„Çπ", "„Éû„Ç§„ÇØ„É≠„Éê„Çπ"],
                correct: 1
            },  
            {
                image: "blob.jpg",
                question: "„Åì„ÅÆ„Éê„Çπ„ÅÆÈñãÁô∫„Åó„Åü„É°„Éº„Ç´„Éº„ÅØÔºü",
                choices: ["Bamford Bus Company", "„Çπ„Ç´„Éã„Ç¢„Éª„Éê„É≥„Éõ„Éº„É´"],
                correct: 0
            }
        ];

        let currentQuestion = 0;
        let score = 0;
        let timeLeft = 0;
        let timer = null;
        let answered = false;
        let shuffledChoices = [];
        let correctIndex = 0;

        function startGame() {
            document.getElementById('startScreen').classList.add('hidden');
            document.getElementById('gameScreen').classList.remove('hidden');
            showQuestion();
        }

        function showQuestion() {
            answered = false;
            const question = questions[currentQuestion];
            
            // ÈÅ∏ÊäûËÇ¢„Çí„Ç∑„É£„ÉÉ„Éï„É´
            const choices = [...question.choices];
            const correctAnswer = choices[question.correct];
            
            // ÈÅ∏ÊäûËÇ¢„Çí„É©„É≥„ÉÄ„É†„Å´ÈÖçÁΩÆ
            if (Math.random() < 0.5) {
                shuffledChoices = [choices[0], choices[1]];
                correctIndex = question.correct;
            } else {
                shuffledChoices = [choices[1], choices[0]];
                correctIndex = question.correct === 0 ? 1 : 0;
            }
            
            document.getElementById('questionImage').src = question.image;
            document.getElementById('questionText').textContent = question.question;
            document.getElementById('answerPhase').classList.add('hidden');
            
            // 2.5Áßí„ÅÆ„Ç´„Ç¶„É≥„Éà„ÉÄ„Ç¶„É≥
            let countdown = 3;
            const countdownElement = document.getElementById('countdown');
            
            const countdownTimer = setInterval(() => {
                countdown--;
                if (countdown > 0) {
                    countdownElement.textContent = `${countdown}ÁßíÂæå„Å´ÈÅ∏ÊäûËÇ¢„ÅåË°®Á§∫„Åï„Çå„Åæ„Åô`;
                } else {
                    countdownElement.textContent = '';
                    clearInterval(countdownTimer);
                    showChoices();
                }
            }, 1000);
        }

        function showChoices() {
            document.getElementById('answerPhase').classList.remove('hidden');
            
            // „Ç∑„É£„ÉÉ„Éï„É´„Åï„Çå„ÅüÈÅ∏ÊäûËÇ¢„ÇíË°®Á§∫
            document.getElementById('choice1').textContent = shuffledChoices[0];
            document.getElementById('choice2').textContent = shuffledChoices[1];
            
            // ÈÅ∏ÊäûËÇ¢„Éú„Çø„É≥„Çí„É™„Çª„ÉÉ„Éà
            document.getElementById('choice1').className = 'choice-btn';
            document.getElementById('choice2').className = 'choice-btn';
            document.getElementById('result').textContent = '';
            document.getElementById('nextBtn').classList.add('hidden');
            
            // 10Áßí„ÅÆ„Çø„Ç§„Éû„ÉºÈñãÂßã
            timeLeft = 10;
            startTimer();
        }

        function startTimer() {
            const timerElement = document.getElementById('timer');
            
            timer = setInterval(() => {
                timerElement.textContent = `${timeLeft}Áßí`;
                
                if (timeLeft <= 3) {
                    timerElement.classList.add('warning');
                } else {
                    timerElement.classList.remove('warning');
                }
                
                timeLeft--;
                
                if (timeLeft < 0) {
                    clearInterval(timer);
                    if (!answered) {
                        selectAnswer(-1); // „Çø„Ç§„É†„Ç¢„Ç¶„Éà
                    }
                }
            }, 1000);
        }

        function selectAnswer(choiceIndex) {
            if (answered) return;
            
            answered = true;
            clearInterval(timer);
            
            const resultElement = document.getElementById('result');
            const choice1 = document.getElementById('choice1');
            const choice2 = document.getElementById('choice2');
            
            if (choiceIndex === -1) {
                // „Çø„Ç§„É†„Ç¢„Ç¶„Éà
                resultElement.textContent = 'ÊôÇÈñìÂàá„ÇåÔºÅ -10ÁÇπ';
                score -= 10;
                
                // Ê≠£Ëß£„ÅÆÈÅ∏ÊäûËÇ¢„ÇíË°®Á§∫
                if (correctIndex === 0) {
                    choice1.classList.add('correct');
                } else {
                    choice2.classList.add('correct');
                }
            } else if (choiceIndex === correctIndex) {
                // Ê≠£Ëß£
                const bonus = Math.max(1, timeLeft + 1);
                const points = 10 + bonus;
                score += points;
                resultElement.textContent = `Ê≠£Ëß£ÔºÅ +${points}ÁÇπ (ÊôÇÈñì„Éú„Éº„Éä„Çπ: +${bonus}ÁÇπ)`;
                
                if (choiceIndex === 0) {
                    choice1.classList.add('correct');
                } else {
                    choice2.classList.add('correct');
                }
            } else {
                // ‰∏çÊ≠£Ëß£
                const penalty = 5 + (timeLeft + 1);
                score -= penalty;
                resultElement.textContent = `‰∏çÊ≠£Ëß£ÔºÅ -${penalty}ÁÇπ (ÊôÇÈñì„Éö„Éä„É´„ÉÜ„Ç£: -${timeLeft + 1}ÁÇπ)`;
                
                if (choiceIndex === 0) {
                    choice1.classList.add('incorrect');
                    choice2.classList.add('correct');
                } else {
                    choice2.classList.add('incorrect');
                    choice1.classList.add('correct');
                }
            }
            
            document.getElementById('score').textContent = score;
            document.getElementById('nextBtn').classList.remove('hidden');
        }

        function nextQuestion() {
            currentQuestion++;
            
            if (currentQuestion >= questions.length) {
                // „Ç≤„Éº„É†ÁµÇ‰∫Ü
                const resultElement = document.getElementById('result');
                resultElement.innerHTML = `<div style="font-size: clamp(24px, 5vw, 32px); margin-bottom: 20px;">„Ç≤„Éº„É†ÁµÇ‰∫ÜÔºÅ</div><div>ÊúÄÁµÇ„Çπ„Ç≥„Ç¢: ${score}ÁÇπ</div>`;
                document.getElementById('nextBtn').textContent = '„ÇÇ„ÅÜ‰∏ÄÂ∫¶„Éó„É¨„Ç§';
                document.getElementById('nextBtn').onclick = resetGame;
            } else {
                showQuestion();
            }
        }

        function resetGame() {
            currentQuestion = 0;
            score = 0;
            document.getElementById('score').textContent = score;
            document.getElementById('nextBtn').textContent = 'Ê¨°„ÅÆÂïèÈ°å';
            document.getElementById('nextBtn').onclick = nextQuestion;
            document.getElementById('gameScreen').classList.add('hidden');
            document.getElementById('startScreen').classList.remove('hidden');
        }

        // „Çø„ÉÉ„ÉÅ„Éá„Éê„Ç§„Çπ„ÅÆÊåØÂãï„Éï„Ç£„Éº„Éâ„Éê„ÉÉ„ÇØÔºàÂØæÂøú„Éá„Éê„Ç§„Çπ„ÅÆ„ÅøÔºâ
        function vibrate() {
            if ('vibrate' in navigator) {
                navigator.vibrate(50);
            }
        }

        // „Çø„ÉÉ„ÉÅÊìç‰Ωú„ÅÆÊîπÂñÑ
        document.addEventListener('DOMContentLoaded', function() {
            // „Éú„Çø„É≥„Å´„Çø„ÉÉ„ÉÅ„Ç§„Éô„É≥„Éà„ÇíËøΩÂä†
            const buttons = document.querySelectorAll('.choice-btn, .start-btn, .next-btn');
            buttons.forEach(button => {
                button.addEventListener('touchstart', function() {
                    vibrate();
                });
            });

            // ÁîªÈù¢„ÅÆÂêë„Åç„ÅåÂ§â„Çè„Å£„ÅüÊôÇ„ÅÆË™øÊï¥
            window.addEventListener('orientationchange', function() {
                setTimeout(() => {
                    window.scrollTo(0, 0);
                }, 100);
            });

            // „É™„Çµ„Ç§„Ç∫ÊôÇ„ÅÆË™øÊï¥
            window.addEventListener('resize', function() {
                setTimeout(() => {
                    window.scrollTo(0, 0);
                }, 100);
            });
        });
    </script>
</body>
</html>
