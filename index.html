<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>2æŠã‚¯ã‚¤ã‚ºã‚²ãƒ¼ãƒ </title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Arial', sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            height: 100vh;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
        }

        .game-container {
            width: 90%;
            max-width: 600px;
            text-align: center;
            background: rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(10px);
            border-radius: 20px;
            padding: 30px;
            box-shadow: 0 15px 35px rgba(0, 0, 0, 0.2);
        }

        .score {
            position: absolute;
            top: 20px;
            right: 20px;
            font-size: 24px;
            font-weight: bold;
            background: rgba(255, 255, 255, 0.2);
            padding: 10px 20px;
            border-radius: 10px;
        }

        .question-image {
            width: 300px;
            height: auto;
            border-radius: 15px;
            margin: 0 auto 20px;
            object-fit: cover;
            box-shadow: 0 10px 25px rgba(0, 0, 0, 0.3);
            transition: all 0.3s ease;
        }

        .question-text {
            font-size: 28px;
            font-weight: bold;
            margin-bottom: 30px;
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.3);
        }

        .timer {
            font-size: 48px;
            font-weight: bold;
            color: #ff6b6b;
            margin-bottom: 30px;
            text-shadow: 2px 2px 8px rgba(0, 0, 0, 0.5);
            transition: all 0.3s ease;
        }

        .timer.warning {
            color: #ff3838;
            animation: pulse 0.5s ease-in-out infinite alternate;
        }

        @keyframes pulse {
            from { transform: scale(1); }
            to { transform: scale(1.1); }
        }

        .choices {
            display: flex;
            gap: 20px;
            justify-content: center;
            flex-wrap: wrap;
        }

        .choice-btn {
            flex: 1;
            min-width: 200px;
            padding: 20px 30px;
            font-size: 20px;
            font-weight: bold;
            border: none;
            border-radius: 15px;
            cursor: pointer;
            transition: all 0.3s ease;
            background: linear-gradient(45deg, #4facfe 0%, #00f2fe 100%);
            color: white;
            box-shadow: 0 8px 20px rgba(0, 0, 0, 0.2);
        }

        .choice-btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 12px 25px rgba(0, 0, 0, 0.3);
        }

        .choice-btn:active {
            transform: translateY(0);
        }

        .choice-btn.correct {
            background: linear-gradient(45deg, #56ab2f 0%, #a8e6cf 100%);
            animation: correctAnswer 0.6s ease;
        }

        .choice-btn.incorrect {
            background: linear-gradient(45deg, #ff416c 0%, #ff4b2b 100%);
            animation: incorrectAnswer 0.6s ease;
        }

        @keyframes correctAnswer {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.1); }
        }

        @keyframes incorrectAnswer {
            0%, 20%, 40%, 60%, 80%, 100% { transform: translateX(0); }
            10%, 30%, 50%, 70%, 90% { transform: translateX(-10px); }
        }

        .result {
            font-size: 24px;
            font-weight: bold;
            margin-top: 20px;
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.3);
        }

        .next-btn {
            margin-top: 30px;
            padding: 15px 40px;
            font-size: 18px;
            font-weight: bold;
            border: none;
            border-radius: 10px;
            cursor: pointer;
            background: linear-gradient(45deg, #f093fb 0%, #f5576c 100%);
            color: white;
            transition: all 0.3s ease;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.2);
        }

        .next-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 20px rgba(0, 0, 0, 0.3);
        }

        .countdown {
            font-size: 36px;
            font-weight: bold;
            color: #ffd700;
            text-shadow: 2px 2px 8px rgba(0, 0, 0, 0.5);
        }

        .hidden {
            display: none;
        }
    </style>
</head>
<body>
    <div class="score">ã‚¹ã‚³ã‚¢: <span id="score">0</span></div>
    
    <div class="game-container">
        <div id="startScreen">
            <div style="font-size: 48px; font-weight: bold; margin-bottom: 30px; text-shadow: 2px 2px 8px rgba(0, 0, 0, 0.5);">
                ğŸ§  2æŠã‚¯ã‚¤ã‚ºã‚²ãƒ¼ãƒ 
            </div>
            <div style="font-size: 20px; margin-bottom: 40px; line-height: 1.6;">
                <div>âœ… æ­£è§£: 10ç‚¹ + æ™‚é–“ãƒœãƒ¼ãƒŠã‚¹</div>
                <div>âŒ ä¸æ­£è§£: -5ç‚¹ - æ™‚é–“ãƒšãƒŠãƒ«ãƒ†ã‚£</div>
                <div>â° æ™‚é–“åˆ‡ã‚Œ: -10ç‚¹</div>
            </div>
            <button class="choice-btn" onclick="startGame()" style="font-size: 24px; padding: 20px 50px;">
                ğŸš€ ã‚²ãƒ¼ãƒ ã‚¹ã‚¿ãƒ¼ãƒˆ
            </button>
        </div>
        
        <div id="gameScreen" class="hidden">
            <img id="questionImage" class="question-image" src="" alt="å•é¡Œç”»åƒ">
            <div id="questionText" class="question-text"></div>
            
            <div id="countdown" class="countdown"></div>
            
            <div id="answerPhase" class="hidden">
                <div id="timer" class="timer"></div>
                <div class="choices">
                    <button class="choice-btn" id="choice1" onclick="selectAnswer(0)"></button>
                    <button class="choice-btn" id="choice2" onclick="selectAnswer(1)"></button>
                </div>
                <div id="result" class="result"></div>
                <button id="nextBtn" class="next-btn hidden" onclick="nextQuestion()">æ¬¡ã®å•é¡Œ</button>
            </div>
        </div>
    </div>

    <script>
        const questions = [
            {
                image: "IMGP1400.webp",
                question: "ã“ã‚Œã¯ã©ã®ä¼šç¤¾ã®ãƒã‚¹ï¼Ÿ",
                choices: ["å°ç”°æ€¥ãƒã‚¹", "äº¬ç‹é›»é‰„ãƒã‚¹"],
                correct: 0
            },
            {
                image: "1982.jpg",
                question: "éƒ½å–¶ãƒã‚¹ã¯ä½•å¹´ã‹ã‚‰å§‹ã¾ã£ãŸï¼Ÿ",
                choices: ["1963å¹´", "1924å¹´"],
                correct: 1
            },
            {
                image: "o0873058215433130096.jpg",
                question: "ã“ã®ãƒã‚¹ã®åç§°ã¯ï¼Ÿ",
                choices: ["é€£ç¯€ãƒã‚¹", "é«˜é€Ÿãƒã‚¹"],
                correct: 0
            },
            {
                image: "busday-img01.jpg",
                question: "ãƒã‚¹ã®æ—¥ã¯ã„ã¤",
                choices: ["10æœˆ14æ—¥", "9æœˆ20æ—¥"],
                correct: 1
            },
            {
                image: "ph_micro.png",
                question: "ã“ã®è»Šç¨®ã¯ï¼Ÿ",
                choices: ["å¤§å‹ãƒã‚¹", "ãƒã‚¤ã‚¯ãƒ­ãƒã‚¹"],
                correct: 1
            },  
            {
                image: "blob.jpg",
                question: "ã“ã®ãƒã‚¹ã®é–‹ç™ºã—ãŸãƒ¡ãƒ¼ã‚«ãƒ¼ã¯ï¼Ÿ",
                choices: ["Bamford Bus Company", "ã‚¹ã‚«ãƒ‹ã‚¢ãƒ»ãƒãƒ³ãƒ›ãƒ¼ãƒ«"],
                correct: 0
            }
        ];

        let currentQuestion = 0;
        let score = 0;
        let timeLeft = 0;
        let timer = null;
        let answered = false;
        let shuffledChoices = [];
        let correctIndex = 0;

        function startGame() {
            document.getElementById('startScreen').classList.add('hidden');
            document.getElementById('gameScreen').classList.remove('hidden');
            showQuestion();
        }

        function showQuestion() {
            answered = false;
            const question = questions[currentQuestion];
            
            // é¸æŠè‚¢ã‚’ã‚·ãƒ£ãƒƒãƒ•ãƒ«
            const choices = [...question.choices];
            const correctAnswer = choices[question.correct];
            
            // é¸æŠè‚¢ã‚’ãƒ©ãƒ³ãƒ€ãƒ ã«é…ç½®
            if (Math.random() < 0.5) {
                shuffledChoices = [choices[0], choices[1]];
                correctIndex = question.correct;
            } else {
                shuffledChoices = [choices[1], choices[0]];
                correctIndex = question.correct === 0 ? 1 : 0;
            }
            
            document.getElementById('questionImage').src = question.image;
            document.getElementById('questionText').textContent = question.question;
            document.getElementById('answerPhase').classList.add('hidden');
            
            // 2.5ç§’ã®ã‚«ã‚¦ãƒ³ãƒˆãƒ€ã‚¦ãƒ³
            let countdown = 3;
            const countdownElement = document.getElementById('countdown');
            
            const countdownTimer = setInterval(() => {
                countdown--;
                if (countdown > 0) {
                    countdownElement.textContent = `${countdown}ç§’å¾Œã«é¸æŠè‚¢ãŒè¡¨ç¤ºã•ã‚Œã¾ã™`;
                } else {
                    countdownElement.textContent = '';
                    clearInterval(countdownTimer);
                    showChoices();
                }
            }, 1000);
        }

        function showChoices() {
            document.getElementById('answerPhase').classList.remove('hidden');
            
            // ã‚·ãƒ£ãƒƒãƒ•ãƒ«ã•ã‚ŒãŸé¸æŠè‚¢ã‚’è¡¨ç¤º
            document.getElementById('choice1').textContent = shuffledChoices[0];
            document.getElementById('choice2').textContent = shuffledChoices[1];
            
            // é¸æŠè‚¢ãƒœã‚¿ãƒ³ã‚’ãƒªã‚»ãƒƒãƒˆ
            document.getElementById('choice1').className = 'choice-btn';
            document.getElementById('choice2').className = 'choice-btn';
            document.getElementById('result').textContent = '';
            document.getElementById('nextBtn').classList.add('hidden');
            
            // 10ç§’ã®ã‚¿ã‚¤ãƒãƒ¼é–‹å§‹
            timeLeft = 10;
            startTimer();
        }

        function startTimer() {
            const timerElement = document.getElementById('timer');
            
            timer = setInterval(() => {
                timerElement.textContent = `${timeLeft}ç§’`;
                
                if (timeLeft <= 3) {
                    timerElement.classList.add('warning');
                } else {
                    timerElement.classList.remove('warning');
                }
                
                timeLeft--;
                
                if (timeLeft < 0) {
                    clearInterval(timer);
                    if (!answered) {
                        selectAnswer(-1); // ã‚¿ã‚¤ãƒ ã‚¢ã‚¦ãƒˆ
                    }
                }
            }, 1000);
        }

        function selectAnswer(choiceIndex) {
            if (answered) return;
            
            answered = true;
            clearInterval(timer);
            
            const resultElement = document.getElementById('result');
            const choice1 = document.getElementById('choice1');
            const choice2 = document.getElementById('choice2');
            
            if (choiceIndex === -1) {
                // ã‚¿ã‚¤ãƒ ã‚¢ã‚¦ãƒˆ
                resultElement.textContent = 'æ™‚é–“åˆ‡ã‚Œï¼ -10ç‚¹';
                score -= 10;
                
                // æ­£è§£ã®é¸æŠè‚¢ã‚’è¡¨ç¤º
                if (correctIndex === 0) {
                    choice1.classList.add('correct');
                } else {
                    choice2.classList.add('correct');
                }
            } else if (choiceIndex === correctIndex) {
                // æ­£è§£
                const bonus = Math.max(1, timeLeft + 1);
                const points = 10 + bonus;
                score += points;
                resultElement.textContent = `æ­£è§£ï¼ +${points}ç‚¹ (æ™‚é–“ãƒœãƒ¼ãƒŠã‚¹: +${bonus}ç‚¹)`;
                
                if (choiceIndex === 0) {
                    choice1.classList.add('correct');
                } else {
                    choice2.classList.add('correct');
                }
            } else {
                // ä¸æ­£è§£
                const penalty = 5 + (timeLeft + 1);
                score -= penalty;
                resultElement.textContent = `ä¸æ­£è§£ï¼ -${penalty}ç‚¹ (æ™‚é–“ãƒšãƒŠãƒ«ãƒ†ã‚£: -${timeLeft + 1}ç‚¹)`;
                
                if (choiceIndex === 0) {
                    choice1.classList.add('incorrect');
                    choice2.classList.add('correct');
                } else {
                    choice2.classList.add('incorrect');
                    choice1.classList.add('correct');
                }
            }
            
            document.getElementById('score').textContent = score;
            document.getElementById('nextBtn').classList.remove('hidden');
        }

        function nextQuestion() {
            currentQuestion++;
            
            if (currentQuestion >= questions.length) {
                // ã‚²ãƒ¼ãƒ çµ‚äº†
                const resultElement = document.getElementById('result');
                resultElement.innerHTML = `<div style="font-size: 32px; margin-bottom: 20px;">ã‚²ãƒ¼ãƒ çµ‚äº†ï¼</div><div>æœ€çµ‚ã‚¹ã‚³ã‚¢: ${score}ç‚¹</div>`;
                document.getElementById('nextBtn').textContent = 'ã‚‚ã†ä¸€åº¦ãƒ—ãƒ¬ã‚¤';
                document.getElementById('nextBtn').onclick = resetGame;
            } else {
                showQuestion();
            }
        }

        function resetGame() {
            currentQuestion = 0;
            score = 0;
            document.getElementById('score').textContent = score;
            document.getElementById('nextBtn').textContent = 'æ¬¡ã®å•é¡Œ';
            document.getElementById('nextBtn').onclick = nextQuestion;
            document.getElementById('gameScreen').classList.add('hidden');
            document.getElementById('startScreen').classList.remove('hidden');
        }

        // åˆæœŸåŒ–ï¼ˆã‚¹ã‚¿ãƒ¼ãƒˆç”»é¢ã‚’è¡¨ç¤ºï¼‰
    </script>
</body>
</html>
